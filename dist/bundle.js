(()=>{function e(e,t){(null==t||t>e.length)&&(t=e.length);for(var o=0,n=new Array(t);o<t;o++)n[o]=e[o];return n}window.addEventListener("DOMContentLoaded",(function(){!function(e){var t=document.querySelector("#timer-hours"),o=document.querySelector("#timer-minutes"),n=document.querySelector("#timer-seconds");function r(e){return(parseInt(e,10)<10?"0":"")+e}var a=setInterval((function(){var e,c,s,u,i=(e=(new Date("31 april 2021").getTime()-(new Date).getTime())/1e3,c=Math.floor(e%60),s=Math.floor(e/60%60),u=Math.floor(e/60/60)%24,Math.floor(e/60/60/24),{hours:u,minuts:s,seconds:c,timeRemaining:e});i.timeRemaining>0?(t.textContent=r(i.hours),o.textContent=r(i.minuts),n.textContent=r(i.seconds)):(t.textContent="00",o.textContent="00",n.textContent="00",clearInterval(a))}),1e3)}();var t,o,n,r,a,c,s,u,i=document.querySelector("body");t=document.querySelector("menu"),document.querySelectorAll(".scroll-link").forEach((function(e){e.addEventListener("click",(function(t){t.preventDefault();var o=e.getAttribute("href");document.querySelector(""+o).scrollIntoView({behavior:"smooth",block:"start"})}))})),i.addEventListener("click",(function(e){var o=e.target;t.classList.contains("active-menu")?o.closest(".menu")||o!==t&&o.closest('[href^="#"]')?t.classList.toggle("active-menu"):o.closest("menu")||t.classList.toggle("active-menu"):o.closest(".menu")&&t.classList.toggle("active-menu")})),function(e){var t=document.querySelector(".popup"),o=document.querySelectorAll(".popup-btn"),n=document.querySelector(".popup-content");popupData={count:-445,speed:10,startPos:-445,endPos:0};var r=function e(){popupData.startPos>popupData.endPos?popupData.count-=popupData.speed:popupData.count+=popupData.speed,n.style.transform="translateY(".concat(popupData.count,"px)"),(popupData.startPos>popupData.endPos?popupData.count>popupData.endPos:popupData.count<popupData.endPos)&&requestAnimationFrame(e)};o.forEach((function(e){e.addEventListener("click",(function(){t.style.display="block",screen.width>768&&(popupData.count=popupData.startPos,requestAnimationFrame(r))}))})),t.addEventListener("click",(function(e){var o=event.target;o.classList.contains("popup-close")?t.style.display="none":(o=o.closest(".popup-content"))||(t.style.display="none")}))}(),o=document.querySelector(".service-header"),n=o.querySelectorAll(".service-header-tab"),r=document.querySelectorAll(".service-tab"),o.addEventListener("click",(function(e){var t=e.target;(t=t.closest(".service-header-tab"))&&n.forEach((function(e,o){e===t&&function(e){for(var t=0;t<r.length;t++)e===t?(n[t].classList.add("active"),r[t].classList.remove("d-none")):(n[t].classList.remove("active"),r[t].classList.add("d-none"))}(o)}))})),a=document.querySelectorAll(".portfolio-item"),c=document.querySelector(".portfolio-dots"),a.forEach((function(){var e=document.createElement("li");e.classList.add("dot"),c.appendChild(e)})),c.children[0].classList.add("dot-active"),function(){var e=document.querySelectorAll(".portfolio-item"),t=document.querySelectorAll(".dot"),o=document.querySelector(".portfolio-content");console.log(e);var n,r=0,a=function(e,t,o){e[t].classList.remove(o)},c=function(e,t,o){e[t].classList.add(o)},s=function(){a(e,r,"portfolio-item-active"),a(t,r,"dot-active"),r=r<e.length-1?r+1:0,c(e,r,"portfolio-item-active"),c(t,r,"dot-active")},u=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:4e3;n=setInterval(s,e)};o.addEventListener("click",(function(o){o.preventDefault();var n=o.target;n.matches(".portfolio-btn, .dot")&&(a(e,r,"portfolio-item-active"),a(t,r,"dot-active"),n.matches("#arrow-right")?r++:n.matches("#arrow-left")?r--:n.matches(".dot")&&t.forEach((function(e,t){e===n&&(r=t)}))),r>=e.length&&(r=0),r<0&&(r=e.length-1),c(e,r,"portfolio-item-active"),c(t,r,"dot-active")})),o.addEventListener("mouseover",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&clearInterval(n)})),o.addEventListener("mouseout",(function(e){(e.target.matches(".portfolio-btn")||e.target.matches(".dot"))&&u()})),u(4500)}(),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:100,t=document.querySelector(".calc-block"),o=document.querySelector(".calc-type"),n=document.querySelector(".calc-square"),r=document.querySelector(".calc-day");calcCount=document.querySelector(".calc-count"),totalValue=document.getElementById("total");var a=function(){var t=0,a=1,c=1,s=o.options[o.selectedIndex].value,u=+n.value;calcCount.value>1&&(a+=(calcCount.value-1)/10),r.value&&r.value<5?c*=2:r.value&&r.value<10&&(c*=1.5),s&&u&&(t=e*s*u*a*c),totalValue.textContent=t};t.addEventListener("change",(function(e){var t=e.target;(t.matches("select")||t.matches("input"))&&a()}))}(100),s=function(e){var t=e.target;t.matches(".form-phone")&&(t.value=t.value.replace(/[^+\d]/g,"")),"user_name"===t.name&&(t.value=t.value.replace(/[^а-яё ]/gi,"")),t.matches(".mess")&&(t.value=t.value.replace(/[^а-яё ,.]/gi,""))},(u=function(t){var o=document.getElementById(t),n=document.createElement("div"),r=function(e){var t=document.createElement("img"),o={load:{message:" Загрузка...",img:"./images/message/waiting.gif"},error:{message:" Что-то пошло не так...",img:"./images/message/Err.png"},success:{message:" Спасибо! Мы скоро с вами свяжемся!",img:"./images/message/OK.png"}};n.textContent=o[e].message,t.src=o[e].img,t.height=50,n.insertBefore(t,n.firstChild),setTimeout((function(){return n.style.display="none"}),2e3)};n.style.cssText="font-size: 2rem; color: #fff",o.addEventListener("submit",(function(a){a.preventDefault(),r("load"),o.appendChild(n),function(e){return fetch("./server.php",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(e)})}(Object.fromEntries(new FormData(o))).then((function(o){if(200!==o.status)throw new Error("Status network ".concat(request.status));r("success"),function(t){var o;(o=document.getElementById(t).elements,function(t){if(Array.isArray(t))return e(t)}(o)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(o)||function(t,o){if(t){if("string"==typeof t)return e(t,o);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?e(t,o):void 0}}(o)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()).filter((function(e){return"button"!==e.tagName.toLowerCase()&&"button"!==e.type})).forEach((function(e){return e.value=""}))}(t)})).catch((function(e){r("error"),console.error(e)}))})),o.addEventListener("input",s)})("form1"),u("form2"),u("form3")}))})();